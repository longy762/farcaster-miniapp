<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Flame Mini App ğŸ”¥</title>
  <script src="https://unpkg.com/@farcaster/miniapp-sdk@latest"></script>

  <!-- Open Graph Tagsï¼ˆè®“é è¦½å¡ç‰‡é¡¯ç¤ºï¼‰ -->
  <meta property="og:title" content="Flame Mini App ğŸ”¥" />
  <meta property="og:description" content="é»æˆ‘ç™»å…¥ Farcasterï¼Œç„¶å¾Œç™¼ä¸€å‰‡ Castï¼æ‰‹æ©Ÿé–‹ç™¼ï¼Œ30ç§’ä¸Šç·šï¼" />
  <meta property="og:image" content="https://picsum.photos/1200/630?random=flame" />
  <meta property="og:url" content="https://farcaster-miniapp-flame.vercel.app" />
  <meta property="og:type" content="website" />

  <!-- é—œéµï¼šFarcaster Frame æ¨™ç±¤ï¼ˆè§£æ±º No embed foundï¼‰ -->
  <meta property="fc:frame" content="vNext" />
  <meta property="fc:frame:image" content="https://picsum.photos/1200/630?random=flame" />
  <meta property="fc:frame:button:1" content="ç™»å…¥ Farcaster" />
  <meta property="fc:frame:button:1:action" content="post" />
  <meta property="fc:frame:button:1:target" content="https://farcaster-miniapp-flame.vercel.app/login" />
</head>
<body style="margin:0; padding:20px; font-family:system-ui; background:linear-gradient(135deg,#ff6b6b,#ffa500); min-height:100vh; text-align:center;">
  <div style="max-width:400px; margin:auto; background:white; border-radius:20px; padding:30px; box-shadow:0 10px 30px rgba(0,0,0,0.1);">
    <h1 style="color:#c41e3a; margin-bottom:20px;">Flame Mini App ğŸ”¥</h1>
    <div id="login">
      <button onclick="login()" style="width:100%; padding:16px; font-size:18px; background:#e63946; color:white; border:none; border-radius:12px; cursor:pointer; font-weight:bold;">
        ğŸ” ç™»å…¥ Farcaster
      </button>
    </div>
    <div id="profile" style="display:none;">
      <p style="font-size:18px; margin:20px 0;">æ­¡è¿ï¼Œ<strong id="name" style="color:#e63946;"></strong>ï¼</p>
      <button onclick="cast()" style="width:100%; padding:14px; background:#2a9d8f; color:white; border:none; border-radius:10px; cursor:pointer; font-weight:bold;">
        ğŸ“¢ ç™¼ä¸€å‰‡ Cast
      </button>
    </div>
  </div>

  <script>
    async function login() {
      try {
        const { user } = await window.farcaster.signIn();
        if (user) {
          document.getElementById('login').style.display = 'none';
          document.getElementById('profile').style.display = 'block';
          document.getElementById('name').textContent = user.displayName || `FID:${user.fid}`;
        }
      } catch (e) { alert('ç™»å…¥å¤±æ•—ï¼š' + e.message); }
    }
    async function cast() {
      try {
        await window.farcaster.cast("Flame Mini App æˆåŠŸä¸Šç·šï¼æˆ‘åœ¨æ‰‹æ©Ÿä¸Šé–‹ç™¼çš„ Farcaster å·¥å…· ğŸ”¥\n#Farcaster #MiniApp");
        alert("Cast å·²ç™¼é€ï¼");
      } catch (e) { alert('ç™¼é€å¤±æ•—ï¼š' + e.message); }
    }
  </script>
</body>
</html>
