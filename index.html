<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Untitled</title>
    

  </head>
    
  <body>
  <!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Farcaster Mini App</title>
  <script src="https://unpkg.com/@farcaster/miniapp-sdk@latest"></script>
</head>

<body>
  <!-- å¼·åˆ¶åŠ å…¥ OG tagsï¼Œè®“ Farcaster æŠ“å¾—åˆ° -->
  <meta property="og:title" content="Farcaster æ‰‹æ©Ÿ Mini App">
  <meta property="og:description" content="é»æˆ‘ç™»å…¥ Farcasterï¼Œç„¶å¾Œç™¼ä¸€å‰‡ Castï¼è¶…ç°¡å–®çš„æ‰‹æ©Ÿé–‹ç™¼æˆæœ ğŸš€">
  <meta property="og:image" content="https://picsum.photos/1200/630?random=123">
  <meta property="og:url" content="https://codepen.io/longy762/full/bNEjKGL">
  <meta property="og:type" content="website">
  <meta property="fc:frame" content="vNext">

  <!-- ä½ çš„ UI -->
  <div style="padding:20px; font-family:sans-serif; text-align:center; background:#f5f3ff; min-height:100vh;">
    <h1 style="color:#8b5cf6;">å“ˆå›‰ Farcasterï¼</h1>
    <div id="login">
      <button onclick="login()" style="padding:14px 28px; font-size:16px; background:#8b5cf6; color:white; border:none; border-radius:12px; cursor:pointer;">
        ç™»å…¥ Farcaster
      </button>
    </div>
    <div id="profile" style="display:none; margin-top:20px;">
      <p style="font-weight:bold; color:#6d28d9;">æ­¡è¿ï¼Œ<span id="name"></span>ï¼</p>
      <button onclick="cast()" style="padding:12px 24px; background:#10b981; color:white; border:none; border-radius:10px; cursor:pointer;">
        ç™¼ä¸€å‰‡ Cast
      </button>
    </div>
  </div>

  <script>
    async function login() {
      try {
        const { user } = await window.farcaster.signIn();
        if (user) {
          document.getElementById('login').style.display = 'none';
          document.getElementById('profile').style.display = 'block';
          document.getElementById('name').textContent = user.displayName || user.fid;
        }
      } catch (e) {
        alert("ç™»å…¥å¤±æ•—ï¼š" + e.message);
      }
    }

    async function cast() {
      try {
        await window.farcaster.cast("æˆ‘åœ¨æ‰‹æ©Ÿä¸Šç”¨ CodePen å¯«äº† Farcaster Mini Appï¼å¤ªé…·äº†å§ ğŸš€\n#Farcaster #MiniApp");
        alert("Cast å·²ç™¼é€ï¼");
      } catch (e) {
        alert("ç™¼é€å¤±æ•—ï¼š" + e.message);
      }
    }
  </script>
</body>
</html>
    
  </body>
  
</html>
